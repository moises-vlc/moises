# Instalando LAMP + Wordpress en un contenedor

## Preparamos el docker
<p>Creamos un contenedor

```bash
docker run -it -p 8080:80 --name LAMP ubuntu:22.10 /bin/bash
```
Y de esta manera lo arrancamos 
</p>

## Instalando LAMP y Wordpress

### Instalación LAMP 
<p> Primero actualizamos la máquina / los repositorios

```bash
sudo apt update
sudo apt upgrade
```
Instalamos el paquete apache2 usando el aptcomando

```bash
sudo apt install -y apache2 apache2-utilsCopiar
```
Instalamos MariaDB

```bash
sudo apt install -y mariadb-server mariadb-clientCopiar
```
Ejecutamos el mysql_secure_installationcomando para asegurar la instalación de MySQL

```bash
sudo mysql_secure_installationCopiar
```
Ponemos todas las políticas que nos convenga

<img width="751" height="497" alt="image" src="https://github.com/user-attachments/assets/bbddcb6d-cff8-461b-b798-758def9074c9" />

Instalamos PHP

```bash
sudo apt install -y php php-mysql libapache2-mod-phpCopiar
```
Después de la instalación, reinicie el servidor web Apache

```bash
sudo systemctl restart apache2
```
<img width="812" height="568" alt="image" src="https://github.com/user-attachments/assets/ea37b351-6658-428f-9e92-cf4e70f51c84" />

De esta manera ya tendríamos instalado LAMP
</p>

### Instalación Wordpress
<p>En primer lugar, actualizamos la lista de paquetes del repositorio:

```bash
sudo apt update
```
Tras ello, instalamos los paquetes necesarios para instalar LAMP + Wordpress

```bash
apt install wordpress php libapache2-mod-php mariadb-server php-mysql
```
<img width="817" height="376" alt="image" src="https://github.com/user-attachments/assets/7bea4f3f-945d-4e15-a671-0afa38d96926" />

Tras ello podemos lanzar el servicio Apache con el comando:

```bash
service apache2 start
```
<img width="816" height="484" alt="image" src="https://github.com/user-attachments/assets/4f83469b-bfd5-4124-8644-81b23ed0a622" />

### Preparando Apache para usar Wordpress

Instalamos un editor de texto 

```bash
sudo apt install nano
```

Creamos el fichero wordpress.conf en /etc/apache2/sites-available/

```bash
cd /etc/apache2/sites-available
sudo nano wordpress.conf
```
Ahí pegamos el contenido
<img width="797" height="377" alt="image" src="https://github.com/user-attachments/assets/56897dfd-2e63-4271-ad52-ffcba92244c8" />
</p>

### Preparando MariaDB Server
<p>
En primer lugar, deberemos poner en marcha el servicio con el comando

```bash
service mariadb start
```
Deberemos ejecutar el comando para generar un password de root de MySQL Server de
forma segura

```bash
mysql_secure_installation
```
Tras ello, accederemos a la base de datos con el cliente MySQL de la siguiente forma

```bash
mysql -u root -p
```
En primer lugar, creamos la base de datos “wordpress”:

```bash
CREATE DATABASE wordpress;
```
<img width="798" height="284" alt="image" src="https://github.com/user-attachments/assets/02b8f072-ca4e-4132-bfab-9f21fedbaeda" />

Creamos el usuario “wordpress” (con contraseña “MiPass-2023”) y le damos permisos
totales en la base de datos “wordpress”

```bash
CREATE USER 'wordpress'@'%' IDENTIFIED BY 'MiPass-2023';
```
<img width="762" height="53" alt="image" src="https://github.com/user-attachments/assets/5c4be44e-54f7-4e9c-aa05-f6f18b763cd8" />


</p>

