# PREPARAR LOS FICHEROS BASE
**Creamos una carpeta**
```bash
sudo mkdir -p ./mi_django
```
**Y entramos a la carpeta**
```bash
cd mi_django
```
**Dentro de ella crearemos dos archivos**
```bash
sudo nano requirements.txt
```
**Dentro de requirements.txt pondremos:**
```bash
Django>=3.0,<4.0
psycopg2-binary>=2.8
```
**Y el otro fichero**
```bash
sudo nano Dockerfile
```
**Y dentro de Dockerfile:**
```bash
# Usamos imagen oficial de Python
FROM python:3
# Evita que Python genere archivos .pyc y permite ver logs en tiempo real
ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1
# Directorio de trabajo
WORKDIR /code
# Instalamos dependencias
COPY requirements.txt /code/
RUN pip install -r requirements.txt
# Copiamos el resto del proyecto
COPY . /code/
```
# CREAR EL FICHERO COMPOSE
**A parte de los dos ficheros anteriores creamos otro fichero en la misma carpeta**
```bash
sudo nano docker-compose.yaml
```
**Dentro de este fichero::**
```bash
services:
  db:
    image: postgres
    volumes:
      - ./data/db:/var/lib/postgresql/data
    environment:
      - POSTGRES_DB=postgres
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
  web:
    build: .
    command: python manage.py runserver 0.0.0.0:8000
    volumes:
      - .:/code
    ports:
      - "8000:8000"
    environment:
      - POSTGRES_NAME=postgres
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
    depends_on:
      - db
```
# PONER EN MARCHA Y CREAR EL PROYECTO
**Ejecutaremos lo siguiente:**
```bash
sudo docker compose run web django-admin startproject miproyecto .
```

<img width="805" height="387" alt="image" src="https://github.com/user-attachments/assets/8103a5e5-4b91-4393-9b86-5d7d85a84e32" />

**Una vez tenemos hecho esto levantaremos el docker**
```
sudo docker compose up -d
```

<img width="813" height="133" alt="image" src="https://github.com/user-attachments/assets/fc47cc09-6f28-48c8-a4bf-92591fcc9799" />

# CONFIGURAR LA CONEXIÃ“N A LA BASE DE DATOS

**Al querer crear los archivos y meter a la base de datos me sales este error:**

<img width="1205" height="290" alt="image" src="https://github.com/user-attachments/assets/13c45953-b7f6-46dc-9b8d-f25a2c6d1440" />

**Y lo paro, lo vuelvo a arrancar y me sale lo mismo, y es que pone que da error en un modulo o algo asi.









