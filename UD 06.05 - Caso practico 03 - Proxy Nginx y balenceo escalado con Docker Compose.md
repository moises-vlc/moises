# ESTRUCTURA DIRECTORIOS
**Crear un directorio y subdirectorios**
```bash
mkdir -p ./practica-proxy-nginx/{apache,nginxproxy}
```
```bash
cd ./practica-proxy-nginx
```
**Nos metemos al subdirectorio apache**
```bash
cd apache
```
# FICHEROS PARA EL SERVICIO APACHE + PHP
**Una vez en apache creamos dos ficheros**
```bash
sudo nano Dockerfile
```
**En Dockerfile:**
<img width="362" height="154" alt="image" src="https://github.com/user-attachments/assets/deed41cc-e280-4f76-a8c8-28f52cdf25b4" />

```bash
sudo nano index.php
```
**Y en index.php**

<img width="632" height="210" alt="image" src="https://github.com/user-attachments/assets/04a0bafa-e871-426c-9bdd-fa68dc7efee2" />

# CREACIÓN DE NGINX (PROXY)
**En nginx creamos un fichero**
```bash
sudo nano nginx.conf
```
**Y pegamos el siguiente contenido**

<img width="381" height="420" alt="image" src="https://github.com/user-attachments/assets/501599bf-2ea6-4f3f-8221-116ccdf49453" />

# CREAR DOCKER-COMPOSE.YAML
**En ./practica-proxy-nginx creamos un fichero:**
```bash
sudo nano docker-compose.yml
```
**Y pegamos lo siguiente:**

<img width="638" height="450" alt="image" src="https://github.com/user-attachments/assets/e27386ca-366b-433d-a4a7-768f29e764d0" />

# CONSTRUIR Y ARRANCAR
**Desde la raíz del proyecto:**
```bash
cd ./practica-proxy-nginx
```
```bash
sudo docker compose up -d
```

<img width="729" height="374" alt="image" src="https://github.com/user-attachments/assets/c1216ee5-95dc-46a2-bb37-f3d153f09954" />

# PROBAR LA APLICACIÓN
**Abrimos el navegador y escribimos la siguiente URL:**
```bash
http://localhost:4000
```

<img width="771" height="204" alt="image" src="https://github.com/user-attachments/assets/941a63ff-4c51-4b74-b7b1-279f9419e6f8" />

# ESCALAR
**Con el sistema en marcha, escalamos el servicio apache a 4 réplicas**
```bash
sudo docker compose up -d --scale apache=4
```

<img width="747" height="158" alt="image" src="https://github.com/user-attachments/assets/49eb5540-6511-44dd-ac0d-685b9738af1c" />










